DROP TABLE IF EXISTS "Customers";
CREATE TABLE "Umuzi"."Customers" (
    "CustomerID" integer NOT NULL AUTO_INCREMENT,
    "FirstName" character varying(50) NOT NULL,
    "LastName" character varying(50) NOT NULL,
    "Gender" character varying NOT NULL,
    "Address" character varying(200) NOT NULL,
    "Phone" integer NOT NULL,
    "Email" character varying(100) NOT NULL,
    "City" character varying(20) NOT NULL,
    "Country" character varying(50) NOT NULL,
    CONSTRAINT "Customers_CustomerID" PRIMARY KEY ("CustomerID")
) WITH (oids = false);

INSERT INTO "Customers" ("CustomerID", "FirstName", "LastName", "Gender", "Address", "Phone", "Email", "City", "Country") VALUES
(1,	'John',	'Hibert',	'Male',	'284 chaucer st',	084789657,	'john@gmail.com',	'Johannesburg',	'South Africa'),
(2,	'Thando',	'Sithole',	'Female',	'240 Sect 1',	0794445584,	'thando@gmail.com',	'Cape Town',	'South Africa'),
(3,	'Leon',	'Glen',	'Male',	'81 Everton Rd,Gillits',	0820832830,	'Leon@gmail.com',	'Durban',	'South Africa'),
(4,	'Charl',	'Muller',	'Male',	'290A Dorset Ecke',	44856872553,	'Charl.muller@yahoo.com',	'Berlin',	'Germany'),
(5,	'Julia',	'Stein',	'Female',	'2 Wernerring',	44867244505,	'Js234@yahoo.com',	'Frankfurt',	'Germany');

DROP TABLE IF EXISTS "Employees";
DROP SEQUENCE IF EXISTS "Employees Table_EmployeeID_seq";
CREATE SEQUENCE "Employees Table_EmployeeID_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;

CREATE TABLE "Umuzi"."Employees" (
    "EmployeeID" integer DEFAULT nextval('"Employees Table_EmployeeID_seq"') NOT NULL,
    "FirstName" character varying(50) NOT NULL,
    "LastName" character varying(50) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "JobTitle" character varying(20) NOT NULL,
    CONSTRAINT "Employees Table_EmployeeID" PRIMARY KEY ("EmployeeID")
) WITH (oids = false);

INSERT INTO "Employees" ("EmployeeID", "FirstName", "LastName", "Email", "JobTitle") VALUES
(1,	'Kani',	'Matthews',	'mat@gmail.com',	'Manager'),
(2,	'Lesly',	'Cronje',	'LesC@gmail.com',	'Clerk'),
(3,	'Gideon',	'Maduku',	'm@gmail.com',	'Accountant');

DROP TABLE IF EXISTS "Orders";
CREATE TABLE "Umuzi"."Orders" (
    "OrderID" integer DEFAULT '2' NOT NULL,
    "ProductID" integer NOT NULL,
    "PaymentID" integer NOT NULL,
    "FulfilledByEmployeeID" integer NOT NULL,
    "DataRequired" date NOT NULL,
    "DataShipped" date,
    "Status" character varying(20) NOT NULL,
    CONSTRAINT "Orders Table_OrderID" PRIMARY KEY ("OrderID"),
    CONSTRAINT "Orders Table_PaymentID_fkey" FOREIGN KEY ("PaymentID") REFERENCES "Payments"("PaymentID") ON DELETE SET NULL NOT DEFERRABLE,
    CONSTRAINT "Orders Table_ProductID_fkey" FOREIGN KEY ("ProductID") REFERENCES "Products"("ProductId") ON DELETE SET NULL NOT DEFERRABLE
) WITH (oids = false);

INSERT INTO "Orders" ("OrderID", "ProductID", "PaymentID", "FulfilledByEmployeeID", "DataRequired", "DataShipped", "Status") VALUES
(1,	1,	1,	2,	'2018-05-09',	NULL,	'Not Shipped'),
(2,	1,	2,	2,	'2018-04-09',	'2018-03-09',	'Shipped'),
(3,	3,	3,	3,	'2018-06-09',	NULL,	'Not Shipped');

DROP TABLE IF EXISTS "Payments";
DROP SEQUENCE IF EXISTS "Payment Table_PaymentID_seq";
CREATE SEQUENCE "Payment Table_PaymentID_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;

CREATE TABLE "Umuzi"."Payments" (
    "Customer_ID" integer NOT NULL,
    "PaymentID" integer DEFAULT nextval('"Payment Table_PaymentID_seq"') NOT NULL,
    "PaymentDate" date NOT NULL,
    "Amount" numeric NOT NULL,
    CONSTRAINT "Payments Table_PaymentID" PRIMARY KEY ("PaymentID"),
    CONSTRAINT "Payments Table_Customer_ID_fkey" FOREIGN KEY ("Customer_ID") REFERENCES "Customers"("CustomerID") ON DELETE SET NULL NOT DEFERRABLE
) WITH (oids = false);

INSERT INTO "Payments" ("Customer_ID", "PaymentID", "PaymentDate", "Amount") VALUES
(1,	1,	'2018-01-09',	150.75),
(5,	2,	'2018-03-09',	150.75),
(4,	3,	'2018-03-09',	700.60);

DROP TABLE IF EXISTS "Products";
DROP SEQUENCE IF EXISTS "Products Table_ProductId_seq";
CREATE SEQUENCE "Products Table_ProductId_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;

CREATE TABLE "Umuzi"."Products" (
    "ProductId" integer DEFAULT nextval('"Products Table_ProductId_seq"') NOT NULL,
    "ProductName" character varying(100) NOT NULL,
    "Description" character varying(300) NOT NULL,
    "BuyPrice" money NOT NULL,
    CONSTRAINT "Products Table_ProductId" PRIMARY KEY ("ProductId")
) WITH (oids = false);

INSERT INTO "Products" ("ProductId", "ProductName", "Description", "BuyPrice") VALUES
(1,	'Harley Davidson Chopper',	'This replica features working kickstand, front suspension, gear-shift lever',	'$150.75'),
(2,	'Classic Car ',	'Turnable front wheels, steering function',	'$550.75'),
(3,	'Sports Car',	'Turnable front wheels, steering function',	'$700.60');
